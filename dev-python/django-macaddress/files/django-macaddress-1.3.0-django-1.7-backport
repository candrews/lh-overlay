From 2218777d0a36b4aca24247921189a811c2d6fb49 Mon Sep 17 00:00:00 2001
From: Michael Link <michaell@opera.com>
Date: Fri, 21 Nov 2014 10:35:39 +0100
Subject: [PATCH] Added deconstruct method to MACAddressField, which is
 required for django 1.7 migrations to work

---
 macaddress/fields.py | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/macaddress/fields.py b/macaddress/fields.py
index 319e454..d924850 100644
--- a/macaddress/fields.py
+++ b/macaddress/fields.py
@@ -20,7 +20,16 @@ def __init__(self, integer=True, *args, **kwargs): # Custom __init__ to accept n
         if not self.integer: # If storing MAC address as string, set max_length to default (17) or use supplied kwarg value.
             kwargs['max_length'] = kwargs.get('max_length', 17)
         super(MACAddressField, self).__init__(*args, **kwargs)
-    
+
+
+    def deconstruct(self):
+        ''' Django 1.7 migrations require this method
+            https://docs.djangoproject.com/en/dev/howto/custom-model-fields/#field-deconstruction
+        '''
+        name, path, args, kwargs = super(MACAddressField, self).deconstruct()
+        kwargs['integer'] = self.integer
+        return name, path, args, kwargs
+
     @classmethod
     def set_dialect(cls, new_dialect_clazz):
         ''' Setting dialect for EUI (MAC addresses) globally to this Field
